package com.steinschen.main;

import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics;
import java.awt.image.BufferedImage;

import org.newdawn.slick.Music;

import com.steinschen.main.Game.STATE;

public class Settings {
	
	private AudioPlayer ap;
	private Game game;
	
	private BufferedImage box;
	private BufferedImage boxChecked;
	private BufferedImage back;
	
	private BufferedImage settings;
	
	private float showVolumeM;
	private float showVolumeD;
	
	
	
	public Settings(Game game, AudioPlayer ap) {
		
		this.game = game;
		this.ap = ap;
		
		SpriteSheet ss = new SpriteSheet(Game.spriteSheet);
		
		box = ss.grabImage(2, 3, 32, 32);
		boxChecked = ss.grabImage(2, 4, 32, 32);
		back = ss.grabImage(3, 1, 32, 32);
		
		settings = ss.grabImage(49, 1, 1080, 700);
	}
	
	public void tick() {
		if(ap.getDripActivated()) AudioPlayer.getMusic("music").setVolume(AudioPlayer.getMusic("drip").getVolume());
		else AudioPlayer.getMusic("drip").setVolume(AudioPlayer.getMusic("music").getVolume());
		showVolumeM=(285*AudioPlayer.getMusic("music").getVolume());
		System.out.println(showVolumeM);
	}
	
	public void render(Graphics g) {
		
		if(game.gameState==STATE.Settings) {
			
			g.drawImage(settings, 0, 0, null);
			if(!ap.getDripActivated()) g.drawImage(box, 590, 335, null);
			if(ap.getDripActivated())	g.drawImage(boxChecked, 590, 335, null);
			
			g.setColor(Color.black);
			g.fillRect(500+(int)showVolumeM, 464, 5, 30);
			
			
		}
	}
}
